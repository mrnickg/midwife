!function(a,b){"use strict";var c={};c.init=function(){this.$event_categories=b(document.getElementById("event-categories")),this.$show_hidden_categories=b(document.getElementById("show_hidden_categories")),this.init_categories()},c.init_categories=function(){var a=this.$event_categories.data("more-text"),c=parseInt(this.$event_categories.data("shown-items"),10),d=this.$event_categories.find("> ul > li"),e=d.find("> ul");e.length?d.each(function(){var c=b(this),d=c.find("ul");if(d.length){var e=d.find("li").length;c.prepend('<span class="tribe-toggle"><span>'+e+" "+a+"</span></span>")}}):this.$event_categories.find(".tribe-categories-with-children").removeClass("tribe-categories-with-children");var f=d.slice(c);f=f.filter(this.filter_out_selected_categories),f.length&&(f.addClass("hidden_category"),this.$show_hidden_categories.closest("div").removeClass("tribe-hide")),e.filter(this.filter_out_selected_categories).addClass("tribe-hide"),e.not(".tribe-hide").closest("li").addClass("tribe-expanded"),this.$event_categories.removeClass("tribe-hide"),b(document).on("click","#event-categories .tribe-toggle",function(){var a=b(this),c=a.closest("li");c.toggleClass("tribe-expanded")})},c.filter_out_selected_categories=function(){return!b(this).find("input:checked").length},b(function(){b(".my-events").addClass("enhanced"),c.init();var d=b(".table-menu"),e=b("#twentyfourteen-style-css").length;e&&b("body").addClass("tribe-2014"),b("#my-events-display-headers th").each(function(a){var c=b(this),e=c.attr("id"),f=c.attr("class");if(e||(e="col-"+a,c.attr("id",e)),b("#tribe-community-events tbody tr").each(function(){var c=b(this).find("th, td").eq(a);c.attr("headers",e),f&&c.addClass(f)}),!c.is(".persist")){var g=b('<li><input type="checkbox" name="toggle-cols" id="toggle-col-'+a+'" value="'+e+'" /> <label for="toggle-col-'+a+'">'+c.text()+"</label></li>");d.find("ul").append(g),g.find("input").change(function(){var a=b(this),c=a.val(),d=b("#"+c+", [headers="+c+"]");a.is(":checked")?d.show():d.hide()}).bind("updateCheck",function(){"table-cell"===c.css("display")?b(this).attr("checked",!0):b(this).attr("checked",!1)}).trigger("updateCheck")}}),b(a).bind("orientationchange resize",function(){d.find("input").trigger("updateCheck")});var f=b(".table-menu-btn");f.click(function(){return d.toggleClass("table-menu-hidden"),!1}),b(document).click(function(a){b(a.target).is(d)||b(a.target).is(d.find("*"))||d.addClass("table-menu-hidden")}),b("#show_hidden_categories").click(function(){return b(".hidden_category").removeClass("hidden_category"),b("#show_hidden_categories").hide(),!1})})}(window,jQuery);